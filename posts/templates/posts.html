{% extends "base.html" %} {% block content %} 

{% load static %}



    



            

     
  {% load cloudinary %}  
    
<section class="content">
    <section class="post_form">
        <form action="/" method="POST" enctype="multipart/form-data"> 
            {% csrf_token %}

            {{ form.image }}
             <!-- {% load static %} 
              <img src="{% static 'img/flower.jpeg' %}" />   -->
        <input type="text" name="name" placeholder="Your Name" required>
        <textarea name="body" placeholder="What's happening" required></textarea>



        <div class="bottom-area">
             <div class="mb-0"> 
                
                <div class="d-grid gap-auto d-md-flex justify-content-md-start"> 
               
                    <input class="form-control form-control-sm" name="image" type="file" >
                  
                   <button class="btn btn-white  me-sm-0" type="submit" style="margin-left: -70px; width: 60px; height: 25px; margin-top: 10px; margin-bottom: 25px; font-size: small;">Tweet</button> 
               
            </div>
            
            
        </div>

        </div>
   
        
             <!-- <input type="file" class="form-control" id="inputGroupFile04" aria-describedby="inputGroupFileAddon04" aria-label="Upload" name="image">
               
              <input type="submit" value="Tweet">
             -->
          

        
        </form>  
    </section> 

    <section class="posts" >

        <ul>
            {% for post in posts %}
            <li>
                <div class="logo">
                    <img src="{% static 'img/flower.jpeg' %}" />

                </div>

                <div class="name_body">

                   <div class="sp">
                    <div class="name">{{ post.name }}</div>
                    
                    <div class="datetime">{{ post.created_at }}</div>
                    <!-- <div class="datetime">{{ post.updated_at }}</div>  -->

                    

                      <div class="dropdown">
                        <button  type="submit" class="btn btn-sm btn-outline-none" data-bs-toggle="dropdown" aria-expanded="false" style="margin-left: 50px;" >...</button> 
                        

                          <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                            <li> <a class="dropdown-item"  href='/edit/{{ post.id }}/'>edit</a> </li>
                            <li> <a  class="dropdown-item " style="text-decoration: none; color: black;" href="/delete/{{ post.id }}">delete</a></li>
                          </ul>
                        </div>



                      
                        
                   

<!-- 
                          <a href="/delete/{{ post.id }}">delete</a>
                          <a href='/edit/{{ post.id }}/'>edit</a> 
                         -->




                      
                   </div>
                    <p>{{ post.body }}</p>

                   <div><img src="{{ post.image.url }}" style="width: 200px;"></div>

                   <a href="{% url 'likeAdd' post.id %}"><i class="bi bi-heart"></i> </a> 
                            {{ post.like_count }}

                   <!-- <a href="{% url 'likeAdd' post.id %}"><img src="{% static 'img/heart.jpg' %}" style="width: 40px;" >  </a>

                   

                            {{ post.like_count }}  -->


                   



                  
                </div>

             </li>
            {% endfor %}
        </ul>








        
          
    </section>

</section>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script> 
<!-- Popover JS -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
<script>
$(function () {
  $('[data-toggle="popover"]').popover()
})
</script>
<script>
var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]'))
var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
  return new bootstrap.Popover(popoverTriggerEl)
})

var popover = new bootstrap.Popover(document.querySelector('.example-popover'), {
    container: 'body'
  })
</script> 

{% endblock %} 